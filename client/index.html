<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>College Predictor</title>
  <style>

    .head {
      margin: 50px;
      color: rgb(0, 0, 0);
    }

    .disclaimer {
    background-color: #f8d7da; 
    color: #721c24; 
    padding: 15px;
    font-size: 16px;
    font-family: Arial, sans-serif;
    border-radius: 5px;
    margin-bottom: 50px;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    width: 800px;
    }

    .disclaimer p {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    

    body {
      font-family: Arial, sans-serif;
      background: rgb(255, 255, 255);
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0px;
      padding: 0px;
      overflow-x: hidden;
    }

    .container {
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      width: 500px;
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    button {
      width: 100%;
      padding: 10px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }

    #result {
      margin-top: 20px;
      font-weight: bold;
    }

    .institution {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin-top: 30px;
      margin-bottom: 30px;
    }

    .institution p span {
      font-weight: lighter;
      font-style: italic;
      color: #343a40;
      margin: 2px 0 !important;
      padding: 0 !important;
      font-size: 14px;
      line-height: 1.3;
    }

    .institution p {
      margin: 4px 0;
      padding: 0;
      line-height: 1.2;
      font-size: 15px;
      background: #f9fbfc;
      padding: 12px 18px;
      border-radius: 8px;
      margin-bottom: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }

    .institution p strong {
      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
      color: rgb(69, 68, 68);
    }



    .footer {
      background-color: #343a40; 
      color: white;
      text-align: center;
      padding: 20px 0;
      bottom: 0;
      left: 0;
      right: 0;
      width: 100%;
      box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.1);
      margin-top: 80px;
    }

    .footer p {
      margin: 5px 0;
      font-size: 0.9rem;
    }

    .footer a {
      color: #f8d7da;
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    .footer a.instagram-link {
  text-decoration: none;
}

.footer a.instagram-link:hover {
  text-decoration: underline;
}

  </style>
</head>
<body>
  <h2 class="head">College Predictor For EAPCET (Andhra Pradesh)</h2>
  <div class="disclaimer">
    <p><strong>Note:</strong> The data shown in this application is not 100% accurate and is based on government-provided Excel data and past years cutoffs. Please verify other sources too.</p>
    <p><strong>గమనిక:</strong>ఈ అప్లికేషన్‌లో చూపబడిన డేటా 100% ఖచ్చితమైనది కాదు మరియు ప్రభుత్వం అందించిన ఎక్సెల్ డేటాపై మరియు గత సంవత్సరాల కటాఫ్‌లపై ఆధారపడి ఉంటుంది. దయచేసి ఇతర వనరులను కూడా ధృవీకరించండి.</p>
  </div>

  <div class="container">
    <label for="rank">Enter Rank:</label>
    <input type="number" id="rank" placeholder="e.g. 12345" />

    <label for="category">Select Category:</label>

    <select id="category">
      <option value="oc_boys">OC boys</option>
      <option value="oc_girls">OC girls</option>
      <option value="bca_boys">BC-A boys</option>
      <option value="bca_girls">BC-A girls</option>
      <option value="bcb_boys">BC-B boys</option>
      <option value="bcb_girls">BC-B girls</option>
      <option value="bcc_boys">BC-C boys</option>
      <option value="bcc_girls">BC-C girls</option>
      <option value="bcd_boys">BC-D boys</option>
      <option value="bcd_girls">BC-D girls</option>
      <option value="sc_boys">SC boys</option>
      <option value="sc_girls">SC girls</option>
      <option value="st_boys">ST boys</option>
      <option value="st_girls">ST girls</option>
    </select>

    <label for="category">Select Branch:</label>

    <select id="branch">
        <option value="">All</option>
        <option value="CSE">CSE</option>
        <option value="ECE">ECE</option>
        <option value="CSM">CSM</option>
        <option value="CSB">CSB</option>
        <option value="CIV">CIV</option>
        <option value="AID">AID</option>
        <option value="SWE">SWE</option>
        <option value="INF">INF</option>
        <option value="CSD">CSD</option>
        <option value="CAD">CAD</option>
        <option value="EEE">EEE</option>
        <option value="MEC">MEC</option>
        <option value="IST">IST</option>
        <option value="CAI">CAI</option>
        <option value="CSC">CSC</option>
        <option value="CSO">CSO</option>
        <option value="CIT">CIT</option>
        <option value="CIC">CIC</option>
        <option value="CSG">CSG</option>
        <option value="AIM">AIM</option>
        <option value="CST">CST</option>
        <option value="PHD">PHD</option>
        <option value="NAM">NAM</option>
    </select>

    <label for="district">Select district:</label>
    <select id="district">
      <option value="">All</option>
      <option value="EG">East Godavari</option>
      <option value="VSP">Visakhapatnam</option>
      <option value="GTR">Guntur</option>
      <option value="KRI">Krishna</option>
      <option value="CTR">Chittoor</option>
      <option value="SKL">Srikakulam</option>
      <option value="WG">West Godavari</option>
      <option value="ATP">Anantapur</option>
      <option value="VZM">Vizianagaram</option>
      <option value="KNL">Kurnool</option>
      <option value="KDP">Kadapa</option>
      <option value="NLR">Nellore</option>
      <option value="PKS">Prakasam</option>
    </select>
    


    <label for="region">Select region: </label>
    <select id="region">
      <option value="">All</option>
      <option value="AU">AU</option>
      <option value="SW">SW</option>
      <option value="SVU">SVU</option>
    </select>

    <button onclick="predictCollege()">Predict College</button>

    <div id="result"></div>
  </div>

  <footer class="footer">
    <p>&copy; 2025 College Predictor | Designed by Phani K</p>
    <a href="https://www.instagram.com/_code_aura_" target="_blank" class="instagram-link">Follow us on Instagram</a>
    <p><a href="privacy-policy.html">Privacy Policy</a> | <a href="terms-of-service.html">Terms of Service</a></p>
  </footer>

  <script>
    async function predictCollege() {

      const rank = document.getElementById('rank').value;
      const category = document.getElementById('category').value;
      const branch = document.getElementById('branch').value;
      const district = document.getElementById('district').value;
      const region = document.getElementById('region').value;

      const resultDiv = document.getElementById('result');

      if (!rank || rank <= 0) {
        resultDiv.textContent = "Please enter a valid rank.";
        return;
      }

      try {
        const response = await fetch("https://eapcet-rank-predictor.onrender.com/find", {
          method: 'POST', // Changed to POST
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            rank: rank,
            cat: category,
            branch : branch,
            district: district,
            region: region
          })
        });

        // Check if the response is OK
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }

        const data = await response.json();

        if (data && data.length > 0) {
          resultDiv.innerHTML = ""; // Clear previous results
          data.forEach(institution => {
            resultDiv.innerHTML += `
              <div class="institution">
                <p><strong>Institution Name:</strong> <span>${institution.institution_name}</span></p>
                <p><strong>Type:</strong> <span>${institution.type}</span></p>
                <p><strong>District:</strong> <span>${institution.district}</span></p>
                <p><strong>Place:</strong> <span>${institution.place}</span></p>
                <p><strong>Affiliation:</strong> <span>${institution.affiliation}</span></p>
                <p><strong>Established:</strong> <span>${institution.estd}</span></p>
                <p><strong>Branch:</strong> <span>${institution.branch_code}</span></p>
                <p><strong>Rank:</strong> <span>${institution[category]}</span></p>
                <p><strong>Category:</strong> <span>${category}</span></p>
              </div>
              <hr>
            `;
          });
        } else {
          resultDiv.textContent = "No results found.";
        }
      } catch (err) {
        resultDiv.textContent = "Error: Could not connect to backend.";
        console.error('Error:', err);
      }
    }
  </script>

</body>
</html>
